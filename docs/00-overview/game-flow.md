# Game Flow Overview

## 상위 플로우
1. **거점 준비**
   - 시작 튜토리얼에서는 개인 소유의 초기 마을에서 게임이 시작된다.
   - 마을에서 파티 구성 확정, 장비 정리, 회복 및 상점 이용.
   - 필요 시 깃발/건물 강화 등 영지 관리 수행.
2. **필드 진입**
   - 탐험 지역 선택 후 필드로 이동.
   - 이동 중 자원 수집, 이벤트 확인, 조우 게이지/확률 상승.
3. **적 조우**
   - 확률 트리거나 요새 진입으로 전투 돌입.
   - 조우 연출 후 전투 배치 UI 노출.
4. **전투 진행**
   - 아군/적군 배치 확인 및 수정 → 전투 시작.
   - 서버 계산 결과를 로그로 재생(스킵/배속/리플레이 지원).
   - 승리/패배/무승부 처리 및 전투 결과 UI 확인.
5. **보상 정산**
   - 경험치, 재화, 전리품 합산 → 서버 수치로 동기화.
   - 전리품에 따라 장비/영웅 성장 경로 갱신.
6. **루프 선택**
   - 체력·자원 상태를 점검해 필드 연속 탐험, 요새 도전, 마을 복귀 중 선택.
   - 보유 재화는 다음 선택지에 투자할 수 있다.
     1. **영웅 수집**: 술집에서 영웅 모집에 사용. 초반에 저밸류 영웅을 키워도 되지만, 고밸류 영웅을 빠르게 확보해 육성 시간을 절약하는 전략이 장기적으로 효율적이다.
     2. **영토 확장**: 상점에서 깃발을 구매해 영토를 넓히고, 전투력·경험치·재화·전리품 획득 확률 등의 상시 보너스를 얻는다.
     3. **장비 구매**: 상점에서 장비를 구입해 영웅 교체와 무관하게 사용할 수 있다. 다만 구매 가능 장비는 주로 C/UC 등급이라 효과가 제한적이며, 상위 장비는 추후 다른 수단(드랍/제작 등)으로 확보한다.
   - 특정 조건 달성 시 새로운 지역/요새/시나리오가 해금된다.

## 주요 루프
- **코어 루프**: 거점 준비 → 필드 탐험 → 조우/전투 → 보상 정산 → (필요 시) 거점 복귀.
- **메타 루프**: 영웅 수집·육성 → 장비 파밍·강화 → 깃발 배치로 영지 확장 → 난이도 높은 요새 공략 → 계급/명성 상승.
- **보조 루프**: 일일 의뢰, 이벤트 필드, 기간 한정 상점 등 반복 과제 제공.

## 플레이 세션 패턴
### 첫 세션
- 튜토리얼 흐름: 초기 마을 진입 → 술집으로 이동해 첫 영웅 모집 → 영웅 프리셋 설정 → 상점 방문 → 첫 깃발 구매 → 필드로 이동해 깃발 설치(설치 전에는 몬스터 조우 없음) → 영토 확장 → 첫 전투 조우 및 승리 → 튜토리얼 종료.
- 튜토리얼 완료 시 기본 전투 규칙과 깃발(영토 확장) 시스템을 체험하고, 첫 영웅 파티 구성이 확정된다.
- 전투 로그 재생/속도 조절 등 핵심 UI를 노출하고, 마을/필드 전환 루프를 자연스럽게 소개한다.

### 일일 세션
- 마을 점검(보상 수령, 파티 교체) → 필드 2~3회 순찰 → 요새나 이벤트 전투 도전.
- 남은 체력/시간에 따라 자동 콘텐츠(파견 등) 설정 후 종료.

### 장기 목표
- 자유 루프: 몬스터 사냥 → 영웅 육성 재화·전리품 수집 → 깃발 구매 → 영토 확장 → 계급 상승 → 혜택 획득(전투력/경험치/재화/전리품 획득 확률 증가) → 루프 반복.
- 지역별 깃발 완비, 모든 요새 정복, 영웅/장비 최고 등급 확보.
- 엔드게임은 반복 전투 최적화, 고난이도 도전, 컬렉션 완성 중심.

## 전투와의 연계
- 필드 조우 확률, 요새 입장 조건, 보상 체계 등은 `docs/01-systems/combat.md`에 정의된 전투 규칙을 기반으로 설계한다.
- 전투 결과로 획득한 경험치/재화는 영웅 육성과 영지 확장 루프에 즉시 반영되어야 한다.

## 다음 정의 대상
1. 필드 탐험 세부 규칙: 이동 방식, 이벤트 유형, 조우 확률 곡선.
2. 마을 및 영지 시스템: 상점, 회복, 깃발 배치, 업그레이드 구조.
3. 보상 테이블 개편: 경험치/재화/전리품 드랍 구조와 드랍률.
4. 용어 사전: 루프별 핵심 용어, 자원 이름, UI 표기 규칙.
