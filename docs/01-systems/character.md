# 영웅 시스템

## 개요
- 영웅은 전투를 수행하는 필수 유닛이며, 1성에서 6성까지 존재한다. 1성이 가장 낮은 밸류, 6성이 가장 높은 밸류를 지닌다.
- 1~3성 영웅: 가상의 중세풍 인명을 사용하며 고유 효과가 없다.
- 4~6성 영웅: 역사적 실존 인물을 기반으로 하며 최소 1개 이상의 고유 효과를 보유한다(최대 3개 이상도 가능).
- 고유 효과는 동일한 스킬이라도 영웅마다 수치가 다를 수 있으므로, 영웅 ID별로 효과 배열 및 수치를 별도 컬럼으로 관리한다.
- 영웅 타입: 공격형 / 방어형 / 균등형. 타입에 따라 레벨업 시 공격력·방어력·체력 증가량이 달라진다.
- **속성 시스템**: 모든 영웅은 물/불/땅/무 속성 중 하나를 가진다.  
  - 상성 관계: 물 > 불 > 땅 > 물.  
  - 상성 우위 → 최종 피해 +30%, 상성 열세 → 최종 피해 -30%.  
  - 무속성은 어떤 상성에도 영향을 주지 않는다(증가/감소 없음).  
  - 몬스터도 동일한 속성을 보유하므로, 사냥터 선택 시 속성 상성 고려가 중요하다.

## 수집 (Recruit)
- 마을의 술집에서 재화를 소비해 영웅을 영입한다.
- 구체적인 확률, 재화 타입, 파견 방식은 `docs/01-systems/settlement.md` → 술집 섹션에서 정의한다.

## 방출 (Release)
- 영웅을 방출하면 장비를 모두 해제한 상태여야 하며, 영웅 등급에 따라 “영웅 파편”을 획득한다.
- 파편 획득량은 영웅 데이터 혹은 별도 테이블로 관리한다(예: `hero_release_rewards.csv`).
- 영웅 파편의 소모처는 술집(재소환/특별 교환 등)에서 다룬다.

## 환생 (Rebirth)
- 동일한 영웅을 재료로 사용해 성장치를 이관하는 시스템. 한 영웅당 최대 5회까지 가능하다.
- 환생 가능 레벨 구간: 30 / 60 / 90 / 120 / 150. 예를 들어 현재 레벨이 128이면 최대 4회, 레벨 150 도달 시 5회째 가능.
- 재료 영웅은 최소 레벨 30 이상이어야 사용 가능하며, 해당 레벨 단계에 따라 성장치 이관 비율이 다르다.
  - 레벨 30 재료: 재료 성장치의 10%
  - 레벨 60 재료: 재료 성장치의 20%
  - 레벨 90 재료: 재료 성장치의 30%
  - (120, 150 이상 구간은 추후 확장 시 정의 가능)
- 예시) 성장치 60, 레벨 100 나폴레옹에 레벨 30 나폴레옹을 재료 투입 → 성장치 66.
- 환생 시 레벨은 유지(단, 자원 소모 및 부가 효과는 추후 정의 필요).

## 기본 능력치
- 능력치 목록: 공격력, 방어력, 체력, 크리티컬 확률, 크리티컬 데미지, 명중률, 회피율, 방어도 무시.
- 모든 영웅의 시작 값
  - 공격력/방어력/체력: 레벨 0 기준 60/40/50, 레벨 1 기준은 아래 상승 공식 적용.
  - 크리티컬 확률 10%, 크리티컬 데미지 100%(=2배), 명중률 0%, 회피율 0%, 방어도 무시 0.
- 레벨에 따른 증가량(레벨 L, 성장치 G, 타입 T일 때):
  - **공격형**  
    - 공격력: `60 + L * (14 + G/100)`  
    - 방어력: `40 + L * (8 + G/100)`  
    - 체력: `50 + L * (8 + G/100)`
  - **방어형**  
    - 공격력: `60 + L * (8 + G/100)`  
    - 방어력: `40 + L * (12 + G/100)`  
    - 체력: `50 + L * (10 + G/100)`
  - **균등형**  
    - 공격력/방어력/체력 모두 `60/40/50 + L * (10 + G/100)`
- 예시 1) 성장치 20 공격형, 레벨 1 → 공격력 76, 방어력 50, 체력 60  
- 예시 2) 성장치 60 방어형, 레벨 1 → 공격력 74, 방어력 58, 체력 66  
- 크리티컬/명중/회피/방무는 기본값 이후 장비/보석/계급/고유 효과로만 변경된다.

### 고정소수 표현
- 능력치 계산은 내부적으로 정수 기반 고정소수 방식(`value * 100` 등)으로 관리한다.  
- CSV에도 내부 정수값을 기록하고, UI 표시는 반올림/버림 규칙에 따라 처리한다(데이터 포맷은 `docs/04-technical/data-format.md` 참고).

## 고유 효과
- 4~6성 영웅은 최소 1개의 고유 효과를 보유하며, 최대 개수 제한은 없다.
- 효과는 `hero_unique_effects.csv`와 같은 별도 테이블에서 정의하고, 영웅 템플릿에 효과 ID 리스트 및 수치를 배열 형태로 매핑한다.
- 동일 효과라도 영웅별 숫자/쿨타임/조건이 다를 수 있으므로 효과 ID + 파라미터 구조로 설계한다.
- 효과 데이터는 전투 시스템(`docs/01-systems/combat.md`)이 참조한다.

## 데이터 관리
- 핵심 CSV 후보
  - `hero_templates.csv`: 영웅 ID, 이름, 성급, 타입, 기본 성장치(G), 고유 효과 리스트, 방출 파편량 등.
  - `hero_growth.csv`: 레벨별 경험치 요구량, 성장치 상한, 환생 가능 여부.
  - `hero_rebirth_rules.csv`: 환생 가능 레벨, 성장치 이관 비율, 필요 재화.
  - `hero_release_rewards.csv`: 성급별 방출 파편 수량.
  - `hero_unique_effects.csv`: 고유 효과 정의, 파라미터 범위, 설명 문자열 ID.
- 이름 정책: 1~3성은 가상의 중세풍 이름 목록, 4~6성은 실존 인물 이름 및 간략 소개를 별도 로컬라이즈 테이블에서 관리.
- 영웅 파편, 술집 재화, 보호석 등 외부 리소스는 economy 문서와 연결한다.

## Stub / 남은 과제
1. 성장치 G의 초기값/획득 경로 정의(레벨업, 환생, 이벤트 등).
2. 환생 시 소모 재화, 보호 장치(예: 오작동 롤백) 설계.
3. 120/150 레벨 이상의 환생 보너스(30% 이상) 필요 여부 결정.
4. 고유 효과 파라미터화 규칙과 ID 매핑 방식 확정.
5. 방출/환생 UI, 정렬/잠금 같은 편의 기능 정의.

---
**최종 수정**: 2025-10-23  
**상태**: 개편  
**작성자**: SangHyeok  
